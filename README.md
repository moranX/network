# 个人博客

麻烦点star，不要fork

> 或许现在很多企业和团队尚未重视前端工程，或许前端工程在很多人眼里还只是“构建工具”的代名词，又或许未来前端领域的变革使得一切工程问题从根本上得到解决。不管怎样，我只是希望当下能认真的记录自己在前端工程领域的所见所想，与正在经历前端工程化改进，并被此过程困扰的同学交流心得。

[欢迎一起探讨各自在前端开发中遇到的工程问题](https://github.com/fouber/blog/issues/8)

目录

* 系列专题
    * [前端工程——基础篇](https://github.com/fouber/blog/issues/10)
* 工程杂谈
    * [浅谈前端集成解决方案](https://github.com/fouber/blog/issues/1)
    * [前端工程与性能优化](https://github.com/fouber/blog/issues/3)
    * [前端开发体系建设日记](https://github.com/fouber/blog/issues/2)
    * [前端开发体与模块化框架](https://github.com/fouber/blog/issues/4)
    * [大公司里怎样开发和部署前端代码？](https://github.com/fouber/blog/issues/6)
    * [如何进行前端自动化测试？](https://github.com/fouber/blog/issues/7)
    * [md5戳计算过程](https://github.com/fouber/blog/issues/5)
* 示例项目
    * [php版静态资源管理系统示例](https://github.com/fouber/static-resource-management-system-demo)
    * [模块化开发组合php版静态资源管理示例](https://github.com/fouber/fis-php-md.js)
    * [java版静态资源管理系统示例](https://github.com/fouber/fis-java-jsp)
    * [静态资源缓存控制演示项目](https://github.com/fouber/static-resource-digest-project)
* 业界实践
    * [前端组件化开发实践](http://tech.meituan.com/frontend-component-practice.html) by 美团 
    * [2015前端组件化框架之路](https://github.com/xufei/blog/issues/19) by [@民工精髓](http://weibo.com/sharpmaster)
    * [前端工程之模块化](http://fex.baidu.com/blog/2014/03/fis-module/) by [@沈洪顺](http://weibo.com/u/1916384703)
    * 前端xss防火墙系列文章 by [@ＥtherＤream](https://github.com/zjcqoo)
        * [内联事件拦截](http://fex.baidu.com/blog/2014/06/xss-frontend-firewall-1/)
        * [可疑模块拦截](http://fex.baidu.com/blog/2014/06/xss-frontend-firewall-2/)
        * [无懈可击的钩子](http://fex.baidu.com/blog/2014/06/xss-frontend-firewall-3/)
        * [天衣无缝的防护](http://fex.baidu.com/blog/2014/06/xss-frontend-firewall-4/)
        * [整装待发](http://fex.baidu.com/blog/2014/06/xss-frontend-firewall-5)
* 经典图书
    * 《[High Performance Web Sites](http://book.douban.com/subject/2084131/)》（[高性能网站建设指南](http://book.douban.com/subject/3132277/)）
    * 《[Even Faster Web Sites](http://book.douban.com/subject/3686503/)》（[高性能网站建设进阶指南](http://book.douban.com/subject/4719162/)）
    * 《[High Performance Browser Networking](http://book.douban.com/subject/21866396/)》（[Web性能权威指南](http://book.douban.com/subject/25856314/)）
* 经典文章
    * [Best Practices for Speeding Up Your Web Site（雅虎35条）](https://developer.yahoo.com/performance/rules.html)
    * [Facebook静态网页资源的管理和优化](http://v.youku.com/v_show/id_XMjI5OTUxMjE2.html) [[PDF](http://velocity.oreilly.com.cn/2010/ppts/VelocityChina2010Dec7StaticResource.pdf)] by [@David Wei](http://weibo.com/weixiaoliang9)
    * [Facebook移动互联网应用的性能优化](http://v.youku.com/v_show/id_XMzUwOTQzMzA4.html) [[PDF](http://velocity.oreilly.com.cn/2011/ppts/MobilePerformanceVelocity2011_DavidWei.pdf)] by [@David Wei](http://weibo.com/weixiaoliang9)
    * [PageSpeed Insights规则](https://developers.google.com/speed/docs/insights/rules?csw=1)
    * [Mobile Analysis in PageSpeed Insights](https://developers.google.com/speed/docs/insights/mobile)
    * Optimizing the Critical Rendering Path for Instant Mobile Websites [[slides](https://docs.google.com/presentation/d/1IRHyU7_crIiCjl0Gvue0WY3eY_eYvFQvSfwQouW9368/present?slide=id.p19),[video](https://www.youtube.com/watch?v=YV1nKLWoARQ)]
    * Instant Mobile Websites: Techniques and Best Practices [[slides](http://storage.googleapis.com/io-2013/presentations/239-%20Instant%20Mobile%20Websites-%20Techniques%20and%20Best%20Practices.pdf), [video](https://www.youtube.com/watch?v=Bzw8-ZLpwtw)]
    * [Critical Rendering Path（关键呈现路径）](https://developers.google.com/web/fundamentals/performance/critical-rendering-path/)
    * [Optimizing Content Efficienc（优化内容效率）](https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/?hl=zh-cn)
    * [Rendering（渲染性能）](https://developers.google.com/web/fundamentals/performance/rendering/?hl=zh-cn)
    * [How browsers work](http://taligarsiel.com/Projects/howbrowserswork1.htm)

微博 [@前端农民工](http://www.weibo.com/fouber)





如果写上divcss布局,要加上响应式及兼容问题
B简历,开头自我介绍
自我评价中知识点要在项目中体现
开始第一二个项目是用angular或者vue做的

Vue-lazyload实现懒加载效果,优化用户体验

你这里面城市定位是怎么实现的?
公司后端给我对应的当前城市接口,以及所有城市接口,页面加载时用vue的axsio请求到当前城市绑定到页面对应位置,用户可以通过点击展示更多城市进行选择对应城市,此时是请求的所有城市接口,当时我们公司后端给我的数据顺序是错乱的,还顺便对数据进行了处理排序, 可以搜索周边商铺功能, 比方说输入”你正在面试的公司地址”,通过vue的,$http.post请求发送到服务器,服务器对此地址周边商铺进行数据库检索,返回周边数据,数据里面包含一系列信息,包括经纬度坐标.方便数据渲染后,点击对应商铺是进行定位




我看你对ES6规范有一定了解,你都知道哪些?或者问用过哪些呢?
因为js这门语言是弱类型语言嘛,灵活性比较大,但是也相应的容易出现一些编程过程中的坑,比方说变量提升一类的,ES6让它变得更加规范了,出现了类模块的概念等,虽然ES6还有很多浏览器的支持度不高,但是最终可以通过babel工具转译成ES5,运行在浏览器上  . 最开始搞ES6的时候是上家公司决定用选用VUE/(或者angular)做项目,自学过程中发现里面用到了ES6的语法.当时一搜发现ES6已经铺天盖地各种技术贴了,主要是从阮一峰的网络日志学的
ES6里面,我用过知道的有,
块级作用域
let声明变量,const声明常量
模块的导入导出(export and import),
还有更加简练的多行字符串拼接方式,
函数参数可传递默认值

Generator 函数语法[它是一种异步编程方案],
Function后面跟*配合yield关键词及.next()方法使用的函数,函数内部不影响外部js代码的运行,实现异步
自己研究学习的时候发现在ES2017中新增了async 函数可以实现异步编程, async函数就是将 Generator 函数的星号（*）替换成async，将yield替换成await，仅此而已。
大体就这些,工作中如果用到,我有这方面的基础可以现用现学,没什么问题
问:公司可能经常用到前后端交互操作这块,你说下对这块的理解吧?或者
说下你对ajax的理解吧,平时你们前后端交互怎么做的?ajax都有哪些步骤?这些都是一个问题

页面展示数据方面我用到了ajax请求:

Ajax在js原生里面分成几步,首先我们需要创建一个XMLHttpRequest对象,创建这个对象有些兼容性方面的问题,在IE6及以下没有封装这个对象,是一个ActiveXObject对象,IE6和IE6以下的参数不同,我也记不清楚了
然后通过open方法请求和服务器建立链接(创建一个新的http请求),open方法里面有三个参数,分别是请求方式是get还是post,第二个参数是请求的服务器地址,get方法时如果有参数需要传递的话,通过&符号拼接在请求地址后面,post方法的话参数放在send中吧,第三个参数是设置同步还是异步的,一般不写
然后调用send方法发送请求,get时里面参数写null是为了兼容火狐.post时里面写参数
会触发一个onreadystatechange方法,当状态码是4和200的时候表示请求成功了,调用responseText得到数据就行了   .

但是以前上班的时候用jquery的方法比较多,$.ajax   $.get   $.post  $.getJSON() $.load 

问:既然说道ajax 就涉及跨域的问题.这个问题你一般怎么解决的.
JSONP方式, 和ajax没半毛钱关系
为什么出现跨域:
http请求 有一个同源策略
协议不同,端口不同,域名不同,任何一个不相同就造成跨域
请求地址后面拼接上?Callback=?
然后把dataType改成jsonp
自己要知道的知识点:
JSON.parse   JSON.stringify
状态码分别代表什么意思.0-4   200   404  500  



转换为正规的JS代码:

//1.创建请求对象
				var xhr;
				if(window.XMLHttpRequest){
					xhr=new XMLHttpRequest();	
				}else if(window.ActiveXObject){
					//IE6
			var versions = ["Msxml2.XMLHTTP","Microsoft.XMLHTTP"];
					for(var tempVersion of versions){
						xhr = new ActiveXObject(tempVersion);
						if(xhr!=undefined){
			//如果满足第一个就不是undefined了。直接退出循环就OK
							break;
						}
					}
				}else{
					throw new Error("该浏览器不支持ajax！");
				}
				//2.建立链接
				xhr.open("GET","car.json",true);
				//3.发送请求
				xhr.send(null);//给个null是为了兼容火狐
				//4.接收响应
				xhr.onreadystatechange = function(){
//当状态码为2、3、4的时候触发
				if(xhr.readyState==4 && xhr.status==200){
		//反序列化，转换成JS字面量对象
					var rootObj=JSON.parse(xhr.responseText)
}
关于页面rem布局为何可以适配问题:
Rem是根据根元素变化的.整个页面只有一个根元素,就是html标签
     <script>
			fontSize();
			function fontSize(){
				var w = window.innerWidth / 10;  
				console.log(w);
				var html = document.querySelector("html");
				html.style.fontSize = w + "px"; 
			}
			window.onresize = fontSize;
		</script>
		或者<script src="js/flexible.js"></script>    1rem =108px       div      宽度是300px    (是在1080的设计稿上个测量的),   2.8....




我看见你原来公司用的git管理代码是吧,你们主要是用命令还是工具呀?
1命令:
如果第一次进公司,新电脑新安装的git,新项目
需要git config --global user.name "你的名字或昵称"
 git config --global user.email "你的邮箱"
告诉git你是谁
然后在对应的代码管理平台上[codding.net 码云,github一类的]创建项目
然后通过git init 初始化一个本地仓库
git remote add “你的远程仓库名字” <项目地址> 
//注:项目地址形式为:http://git.oschina.net/xxx/xxx.git或者git@git.oschina.net:xxx/xxx.git
Git remote命令查看当前仓库
如果你进公司,项目已经有了,你是参加人员,只需要 git clone <项目地址>就可以

提交代码: [真正提交就这红色的]
新增/修改,删除的文件及文件内容
Git pull一下(拉取服务器的代码,养成良好习惯)
此时git status是红色
git add .    将你修改的新增的,删除的,提交到本地暂存区,此时git status是绿色
git commit –m”有意义的说明”  这一步是到了本地仓库
git push “仓库名” master(哪个分支上)
可能出现这个情况,我提交代码的时候,别人先我一步提交了,此时我的改了,服务器也改了,,,我也pull不下来,也push不上去,冲突了
这时怎么办?!!!
先git stash将我当前的暂存起来,然后我git pull把远程的拉取下来,
我再git stash pop拿出我当前的,此时就能看到自动合并了的文件,然后我手动修改,提交就好了,多说两句:我多次git stash 就会造成暂存了很多版本,git stash list看所有版本,有命令恢复指定版本,和删除所有版本,同学们自己百度尝试
除了命令的,我还用过git的客户端工具小乌龟来使用,替代命令
参考资料: http://www.cnblogs.com/zhongxinWang/p/4205339.html
你有没有用过SVN呢.
Svn是一个集中式的管理工具,git是分布式的,各有千秋,但是svn也有一个对应的客户端工具小乌龟来管理代码,和git有异曲同工之妙,相信自己不会有什么问题

关于面向对象:
说一下关于封装的理解?
	我理解的封装就是为了封装一个函数,以后能够多次调用,减少代码量,便于维护,比方说我封装过一个自己的工具包Util.js,里面包括一些处理常见兼容性问题,数组字符串常用操作,
讲自己曾经封装了一个视频播放器的插件,有 随机播放,播放暂停,静音,加减音量,下一曲,自定义滚动条等方法. 而且放到了github上
说一下关于继承的理解?
Js继承的话,可以通过原型链继承,也就是子类的prototype属性指向父类的一个实例对象,这样就和它的原型对象形成了原型链,但是它有缺点,比方说,要为子类新增自己的属性和方法,只能在new 父类之后.
也可以通过构造函数继承也就是call 和apply继承,是在子类的构造函数中调用父类的构造函数，可以达到继承父类的属性，但不能继承父类的原型方法或者原型属性
但是这两种都有缺陷,所以一般会采用混合继承的方式,也就是利用构造函数继承和原型链继承一起来实现继承,可以解决上面的缺点,

学名：XSS   跨站脚本攻击  代码注入
解决方案： 
1转译。比方说检测到<  括号替换成&lt,>替换成&gt，或者直接用模板引擎，比分baidu.template，就会自动过滤掉。
1.	模版引擎怎么使用呢?
引入baidu的template.js ,调用baidu.template方法传入对应的id值以及需要通过模版引擎渲染的数据,在html页面上用script标签包裹对应需要渲染的dom区域,此script的type是text/html以及 text/template,html元素不用包裹,动态数据放到<%=%>里面   js代码放到<%%>里面,在js;里面还是要将调用baidu.template方法生成的字符串挂载到页面的dom元素里面去
这样就可以有效的防止xss跨域脚本攻击的问题

2.进行过滤 
CSRF 跨站伪造请求
这方面需要后台提供一个token(随机码), 一个唯一标识，会随时变的，前端会得到这个token提交的时候会拿这个实时的码与后台的token做对比，相同才能发送请求，否则屏蔽掉

关于vue里面如何与后端交互的, 是怎么实现的?如何请求渲染数据的?
Ajax的话在1.0里面使用的是vue-resource
后来项目升级成2.0
使用axios的时候，可以这样来使用：
1.将axios导入文件import axios from 'axios'
2.将axios放入到Vue实例上面，这样在其他组件中，可以直接通过this.$https.get/post使用
　　在main.js中写：Vue.prototype.$http = axios
　　其他组件可以直接使用：
　　this.$http.get('data.txt').then((res)=>{
　　　　console.log(res.data);
　　}).catch((err)=>{
　　　　console.log(err);
　　});
其实导入jQuery,使用jQ的ajax请求也没有问题,但是官方还是推荐前面说的两种,而vue-resource和axios使用差不多,只不过它的数据是response.body获得
在开发过程中遇见过跨域问题吗?
遇见过,当时是通过网上搜集资料找到的解决方式,在脚手架中有我们设置跨域请求的文件.修改config文件夹下的index.js中的dev中proxyTable下面的target为我们需要请求的路径就搞定


针对angular的面试题
1. ng-show/ng-hide 与 ng-if的区别？
我们都知道ng-show/ng-hide实际上是通过display来进行隐藏和显示的。而ng-if实际上控制dom节点的增删除来实现的。因此如果我们是根据不同的条件来进行dom节点的加载的话，那么ng-if的性能好过ng-show.
2.解释下什么是$rootScrope以及和$scope的区别？
通俗的说$rootScrope 页面所有$scope的父亲。这个东西和js中的的作用域差不多，我项目中用它进行过模块间通信问题处理
ng-repeat迭代数组的时候，如果数组中有相同值，会有什么问题，如何解决？
会提示 Duplicates in a repeater are not allowed. 加 track by $index 可解决。当然，也可以 trace by 任何一个普通的值，只要能唯一性标识数组中的每一项即可（建立 dom 和数据之间的关联）。
4.ng-click 中写的表达式，能使用 JS 原生对象上的方法吗？
不止是 ng-click 中的表达式，只要是在页面中，都不能直接调用原生的 JS 方法，因为这些并不存在于与页面对应的 Controller 的 $scope 中。
像<p>{{parseInt(55.66)}}<p>不行，但如果在 $scope 中添加了这个函数就没问题了：
$scope.parseInt = function(x){
    return parseInt(x);
}  也可以用自定义过滤器的方式来实现；
5.{{now | 'yyyy-MM-dd'}} 这种表达式里面，竖线和后面的参数通过什么方式可以自定义？
filter，格式化数据，接收一个输入，按某规则处理，返回处理结果。
•	ng 内置的 filter 有九种：date（日期）currency（货币）orderBy（排序）lowercase（小写）uppercase（大写） 等
filter的使用，在页面中或者在js中：<p>{{now | date : 'yyyy-MM-dd'}}</p>
或者// $filter('过滤器名称')(需要过滤的对象, 参数1, 参数2,...)
$filter('date')(now, 'yyyy-MM-dd hh:mm:ss');
如何自定义过滤器？

6.factory、service 和 provider 是什么关系？
这三个方法实现功能有点儿相似都是创建自定义服务的，我理解的不是特别深，但是用过factory自定义服务，里面返回一个Object对象，控制器里面能用这个方法了就，用service自定服务。里面相当于一个构造函数，返回它的一个实例，用this操作里面的属性方法，一般我都对照着网上例子来调试书写
7.angular 的数据绑定采用什么机制？详述原理
脏检查机制
双向数据绑定是 AngularJS 的核心机制之一。当 view 中有任何数据变化时，会更新到 model ，当 model 中数据有变化时，view 也会同步更新，显然，这需要一个监控。
原理就是，Angular 在 scope 模型上设置了一个 监听队列，用来监听数据变化并更新 view 。每次绑定一个东西到 view 上时 AngularJS 就会往 $watch 队列里插入一条 $watch，用来检测它监视的 model 里是否有变化的东西。当浏览器接收到可以被 angular context 处理的事件时，$digest 循环就会触发，遍历所有的 $watch，最后更新 dom。
8. Angular中的digest周期是什么？
每个digest周期中，angular总会对比scope上model的值，一般digest周期都是自动触发的，我们也可以使用$apply进行手动触发
9. 如何取消 $timeout, 以及停止一个$watch()?
停止 $timeout我们可以用cancel：
10. Angular Directive中restrict 中分别可以怎样设置？scope中@,=,&有什么区别？
restrict中可以分别设置:
•	A匹配属性
•	E匹配标签
•	C匹配class
•	M 匹配注释
当然你可以设置多个值比如AEC,进行多个匹配。全设置，这个就是用来表明我这个自定义指令作用的！
11.列出实现不同模块之间通信方式？
使用 $rootScope    我常用这个    还有：  directive 指定属性进行数据绑定
12 有哪些措施可以改善Angular 性能
•	官方提倡的，关闭debug,$compileProvider
使用一次绑定表达式即{{::yourModel}}
使用一次性数据绑定非常的简单，我们只需要在表达式之前加上双冒号::即可；一次性数据绑定表达式可以在数据稳定之后，不需要在$digest循环中重计算…
减少watcher数量










